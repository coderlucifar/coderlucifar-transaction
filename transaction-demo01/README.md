# transaction事务注解失效的场景

1、方法嵌套，事务处理放在内层方法内，但是内层方法没有加transaction注解。
2、多线程情况下，另开启一个线程去执行事务，那么两个线程拿到的数据库链接不是同一个，也没有办法保证事务。

# 关于分布式事务
尽量不去引入比较重的分布式事务实现

# 几点建议
1、避免大事务，能批量处理就批量处理，避免循环调用数据库；
2、避免在事务内进行rpc调用等耗时的操作

# 骚操作
事务执行成功后的回调处理。

利用 TransactionSynchronization 接口